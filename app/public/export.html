<!DOCTYPE html>
<html>

<head>
    <title>mxGraph Demo</title>

    <script type="text/javascript">
        mxBasePath = './mxgraph-4.2.0/src';
    </script>

    <script type="text/javascript" src="./mxgraph-4.2.0/src/js/mxClient.js"></script>

    <script type="text/javascript">
        function main(container, xml) {
            if (!mxClient.isBrowserSupported()) {
                mxUtils.error('Browser is not supported!', 200, false)
            } else {
                var graph = new mxGraph(container);
                new mxRubberband(graph)

                //Initialising style objects
                let style = {};
                style[mxConstants.STYLE_STROKECOLOR] = "black";
                style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_CONNECTOR;
                style[mxConstants.STYLE_ALIGN] = mxConstants.ALIGN_CENTER;
                style[mxConstants.STYLE_VERTICAL_ALIGN] = mxConstants.ALIGN_MIDDLE;
                style[mxConstants.STYLE_EDGE] = mxEdgeStyle.ElbowConnector;
                style[mxConstants.STYLE_ENDARROW] = mxConstants.ARROW_CLASSIC;
                style[mxConstants.STYLE_FONTSIZE] = "14";
                style[mxConstants.VALID_COLOR] = "black";

                graph.getStylesheet().putDefaultEdgeStyle(style);

                var parent = graph.getDefaultParent();

                graph.getModel().beginUpdate();
                try {
                    var doc = mxUtils.parseXml(xml);
                    var codec = new mxCodec(doc);
                    codec.decode(doc.documentElement, graph.getModel());
                } finally {
                    graph.getModel().endUpdate();
                }
            }
            return Promise.all(Array.from(document.getElementsByTagName('image'))
                .map(image => new Promise((resolve) => {
                    image.addEventListener('load', function () { resolve() })
                })))
        }
    </script>
</head>

<body>
    <div id="graphContainer"
        style="overflow:hidden;width:1500px;height:1500px;background:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')">
    </div>
</body>

</html>